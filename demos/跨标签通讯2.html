<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>跨标签通讯</title>
</head>
<style>
  .card {
    width: 300px;
    height: 300px;
    background-color: #f00;
    position: fixed;
    top: 100px;
    left: 100px;
  }
</style>

<body>
  跨标签通讯
  <div class="card">card</div>
</body>
<script>
  const cardElement = document.querySelector(".card");
  cardElement.style.top = 100 + "px";
  cardElement.style.left = 100 + "px";

  // 鼠标悬浮进行拖拽
  cardElement.addEventListener("mousedown", e => {
    const startX = e.clientX;
    const startY = e.clientY;
    const startLeft = parseInt(cardElement.style.left || 0);
    const startTop = parseInt(cardElement.style.top || 0);
    // 开始移动
    const move = e => {
      const deltaX = e.clientX - startX;
      const deltaY = e.clientY - startY;
      cardElement.style.left = startLeft + deltaX + "px";
      cardElement.style.top = startTop + deltaY + "px";
    }
    const up = e => {
      document.removeEventListener("mousemove", move);
      document.removeEventListener("mouseup", up);
    }
    document.addEventListener("mousemove", move);
    document.addEventListener("mouseup", up);
  })
</script>

</html>